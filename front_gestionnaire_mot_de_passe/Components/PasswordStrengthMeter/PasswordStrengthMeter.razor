

<div class="password-strength-container">
    <div class="strength-bar @StrengthClass"></div>
    <p>@StrengthText</p>
</div>

@code {
    [Parameter] public string Password { get; set; } = "";

    private string StrengthClass => GetStrengthClass();
    private string StrengthText => GetStrengthText();

    private int Score => CalculateScore();

    private int CalculateScore()
    {
        if (string.IsNullOrWhiteSpace(Password)) return 0;

        int score = 0;

        if (Password.Length >= 8) score++;
        if (Password.Any(char.IsUpper)) score++;
        if (Password.Any(char.IsDigit)) score++;
        if (Password.Any(c => "!@#$%^&*()_-+=<>?/{}[]|".Contains(c))) score++;

        return score;
    }

    private string GetStrengthClass() => Score switch
    {
        0 => "empty",
        1 => "weak",
        2 => "medium",
        3 => "strong",
        _ => "very-strong"
    };

    private string GetStrengthText() => Score switch
    {
        0 => "",
        1 => "Faible",
        2 => "Medium",
        3 => "Fort",
        _ => "Tr√®s fort"
    };
}